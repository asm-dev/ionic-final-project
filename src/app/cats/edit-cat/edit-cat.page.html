<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="'/cats/' + catId"></ion-back-button>
    </ion-buttons>
    <ion-title>Edit Cat</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="editCat()" [disabled]="!editCatForm?.valid">
        <ion-icon name="checkmark-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="isLoading" class="ion-text-center">
    <ion-spinner color="primary"></ion-spinner>
  </div>
  <form [formGroup]="editCatForm" *ngIf="!isLoading">
    <ion-grid>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Image URL</ion-label>
            <ion-input
              type="text"
              [formControl]="imgInput"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="imgInput.invalid && imgInput.touched">
        <ion-col size-sm="6" offset-sm="3">
          <p class="ion-no-margin">Please add a valid image URL</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Breed name</ion-label>
            <ion-input
              type="text"
              autocomplete
              autocorrect
              [formControl]="breedInput"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="breedInput.invalid && breedInput.touched">
        <ion-col size-sm="6" offset-sm="3">
          <p class="ion-no-margin">Please add a breed name, you can use "mixed breed" if unsure</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Breed origin</ion-label>
            <ion-input
              type="text"
              autocomplete
              autocorrect
              [formControl]="breedOriginInput"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="breedOriginInput.invalid && breedOriginInput.touched">
        <ion-col size-sm="6" offset-sm="3">
          <p class="ion-no-margin">Please add a breed origin, you can type "unknown" if unsure</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Vocalisation</ion-label>
            <ion-input
              type="number"
              [formControl]="vocalisationInput"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="vocalisationInput.invalid && vocalisationInput.touched">
        <ion-col size-sm="6" offset-sm="3">
          <p class="ion-no-margin">Please add the cat's meowing level</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Dog friendliness</ion-label>
            <ion-input
              type="number"
              [formControl]="dogFriendlyInput"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="dogFriendlyInput.invalid && dogFriendlyInput.touched">
        <ion-col size-sm="6" offset-sm="3">
          <p class="ion-no-margin">Please add the cat's dog friendliness level</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Affection level</ion-label>
            <ion-input
              type="number"
              [formControl]="affectionInput"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row *ngIf="affectionInput.invalid && affectionInput.touched">
        <ion-col size-sm="6" offset-sm="3">
          <p class="ion-no-margin">Please add the cat's affection level</p>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
